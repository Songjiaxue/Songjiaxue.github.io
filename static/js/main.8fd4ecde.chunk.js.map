{"version":3,"sources":["components/loading-component/index.js","routes/index.js","App.js","index.js","components/icon/index.js"],"names":["isLoading","error","className","AsyncHome","Loadable","loader","loading","LoadingComponent","delay","AsyncWorks","AsyncNotes","path","component","icon","title","header","subTitle","desc","children","1","2","3","4","App","withRouter","props","goPage","state","history","push","pathname","findRoute","routes","location","i","length","indexOf","replace","childRoute","last","split","reverse","renderRoutes","arr","forEach","item","childs","console","log","exact","key","this","route","Routes","map","v","type","onClick","noTip","go","React","Component","ReactDOM","render","locale","zhCN","document","getElementById","Icon","aria-hidden","xlinkHref","placement","overlayClassName"],"mappings":"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","file":"static/js/main.8fd4ecde.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Spin } from \"antd\";\r\n// import { Toast, } from 'antd-mobile';\r\nimport \"./index.less\";\r\n\r\nexport default ({ isLoading, error }) => {\r\n  // Handle the loading state\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"loading-box\">\r\n        <Spin />\r\n      </div>\r\n    );\r\n  }\r\n  // Handle the error state\r\n  if (error) {\r\n    return <div className=\"loading-wrap\">抱歉, 加载文件失败，请刷新试试.</div>;\r\n  }\r\n  return null;\r\n};\r\n","import Loadable from \"react-loadable\";\r\nimport LoadingComponent from \"@components/loading-component\";\r\n// 首页\r\nconst AsyncHome = Loadable({\r\n  loader: () => import(\"@app/home\"),\r\n  loading: LoadingComponent,\r\n  delay: 300,\r\n});\r\nconst AsyncWorks = Loadable({\r\n  loader: () => import(\"@app/work\"),\r\n  loading: LoadingComponent,\r\n  delay: 300,\r\n});\r\nconst AsyncNotes = Loadable({\r\n  loader: () => import(\"@app/notes\"),\r\n  loading: LoadingComponent,\r\n  delay: 300,\r\n});\r\nconst AsyncWork = Loadable({\r\n  loader: () => import(\"@app/work/works\"),\r\n  loading: LoadingComponent,\r\n  delay: 300,\r\n});\r\nconst AsyncNote = Loadable({\r\n  loader: () => import(\"@app/notes/note\"),\r\n  loading: LoadingComponent,\r\n  delay: 300,\r\n});\r\nconst AsyncMine = Loadable({\r\n  loader: () => import(\"@app/mine\"),\r\n  loading: LoadingComponent,\r\n  delay: 300,\r\n});\r\n\r\nexport default [\r\n  {\r\n    path: \"/\",\r\n    component: AsyncHome,\r\n    icon: \"icon-store\",\r\n    title: \"首页\",\r\n  },\r\n  {\r\n    path: \"/works\",\r\n    component: AsyncWorks,\r\n    title: \"作品\",\r\n    icon: \"icon-pic\",\r\n    header: {\r\n      title: \"MY WORK\",\r\n      subTitle: \"我的作品\",\r\n      desc: \"react技术栈、vue技术栈、expressjs技术栈\",\r\n    },\r\n    children: [\r\n      {\r\n        path: \"/works/:id\",\r\n        component: AsyncWork,\r\n        header: {\r\n          desc: {\r\n            1: \"纯css绘制哆啦a梦\",\r\n            2: \"日历组件，支持额外的日期标点，以及选中日期高亮\",\r\n          },\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: \"/notes\",\r\n    component: AsyncNotes,\r\n    title: \"笔记\",\r\n    icon: \"icon-collection\",\r\n    header: {\r\n      title: \"MY NOTES\",\r\n      subTitle: \"我的笔记\",\r\n      desc: \"css、javascript、react、乱七八糟的一些分享\",\r\n    },\r\n    children: [\r\n      {\r\n        path: \"/notes/:type\",\r\n        component: AsyncNote,\r\n        header: {\r\n          desc: {\r\n            1: \"关于css的一些笔记\",\r\n            2: \"关于javascript的一些笔记\",\r\n            3: \"关于react的一些笔记\",\r\n            4: \"乱七八糟的一些笔记\",\r\n          },\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: \"/mine\",\r\n    component: AsyncMine,\r\n    title: \"关于我\",\r\n    icon: \"icon-Daytimemode\",\r\n    header: {\r\n      title: \"ABOUT ME\",\r\n      subTitle: \"关于我\",\r\n      desc: \"好好学习，拯救地球\",\r\n    },\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport { Route, Switch, withRouter } from \"react-router-dom\";\r\nimport Icon from \"@components/icon\";\r\nimport Routes from \"@routes/index\";\r\n\r\n@withRouter\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props, \"ppp\");\r\n  }\r\n\r\n  goPage = (path, state = {}) => {\r\n    const { history } = this.props;\r\n    history.push({\r\n      pathname: path,\r\n      state,\r\n    });\r\n  };\r\n\r\n  // 递归找到当前路由项\r\n  findRoute = routes => {\r\n    const { history } = this.props;\r\n    const {\r\n      location: { pathname },\r\n    } = history;\r\n    for (let i = 0; i < routes.length; i++) {\r\n      let { path } = routes[i];\r\n      const { children } = routes[i];\r\n      if (pathname === \"/\") {\r\n        return routes[i];\r\n      }\r\n      // 如果是带参path\r\n      if (path.indexOf(\":\") > -1) {\r\n        path = path.replace(/:(\\w+)/, \"\");\r\n      }\r\n      // 优先匹配子项\r\n      if (children) {\r\n        const childRoute = this.findRoute(children);\r\n        if (childRoute) {\r\n          const pathnameLast = pathname.split(\"/\").reverse();\r\n          const last = pathnameLast[0];\r\n          return {\r\n            ...childRoute,\r\n            // 合并header的desc\r\n            header: routes[i].header\r\n              ? {\r\n                  ...routes[i].header,\r\n                  desc: (childRoute.header.desc || {})[last],\r\n                }\r\n              : null,\r\n          };\r\n        }\r\n      }\r\n      if (path !== \"/\" && pathname.indexOf(path) > -1) {\r\n        return routes[i];\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n\r\n  // 递归遍历生成路由\r\n  renderRoutes = routes => {\r\n    let arr = [];\r\n    routes.forEach(item => {\r\n      if (item.children) {\r\n        const childs = this.renderRoutes(item.children);\r\n        console.log(childs);\r\n        arr = [...arr, ...childs];\r\n      }\r\n      arr.push(\r\n        <Route\r\n          exact\r\n          path={item.path}\r\n          component={item.component}\r\n          key={item.path}\r\n        />,\r\n      );\r\n    });\r\n    return arr;\r\n  };\r\n\r\n  render() {\r\n    const { history } = this.props;\r\n    const route = this.findRoute(Routes) || {};\r\n    console.log(this.renderRoutes(Routes), \"ooo\");\r\n    return (\r\n      <div className=\"app\">\r\n        {/* logo */}\r\n        <div className=\"app-logo\">tomato-or-potato</div>\r\n        {route.header && (\r\n          <div className=\"app-title\">\r\n            <div className=\"main\">{route.header.title}</div>\r\n            <div className=\"sub\">{route.header.subTitle}</div>\r\n            <div className=\"desc\">{route.header.desc}</div>\r\n          </div>\r\n        )}\r\n        {/* 导航 */}\r\n        <div className=\"app-fixed\">\r\n          <div className=\"fixed-item\">\r\n            {Routes.map(\r\n              v =>\r\n                v.icon && (\r\n                  <Icon\r\n                    type={v.icon}\r\n                    key={v.icon}\r\n                    title={v.title}\r\n                    onClick={() => {\r\n                      this.goPage(v.path);\r\n                    }}\r\n                  />\r\n                ),\r\n            )}\r\n          </div>\r\n        </div>\r\n        {/* 内容导航 */}\r\n        <div className=\"app-main\">\r\n          <Switch>{this.renderRoutes(Routes)}</Switch>\r\n        </div>\r\n        {/* 返回居中显示 */}\r\n        {!route.icon && (\r\n          <div className=\"app-back\">\r\n            <Icon\r\n              type=\"icon-yooxi\"\r\n              className=\"footer-icon\"\r\n              title=\"返回\"\r\n              noTip\r\n              onClick={() => {\r\n                history.go(-1);\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* 底部 */}\r\n        {\r\n          // <div className=\"app-footer\">\r\n          //   <Icon\r\n          //     type=\"icon-top\"\r\n          //     className=\"footer-icon\"\r\n          //     title=\"回到顶部\"\r\n          //     onClick={() => {\r\n          //       window.scrollTo(0, 0);\r\n          //     }}\r\n          //   />\r\n          // </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { ConfigProvider } from \"antd\";\r\nimport zhCN from \"antd/es/locale/zh_CN\";\r\nimport \"@assets/less/rem.less\";\r\nimport \"@assets/less/common.less\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <ConfigProvider locale={zhCN}>\r\n      <App />\r\n    </ConfigProvider>\r\n  </HashRouter>,\r\n  document.getElementById(\"root\"),\r\n);\r\n","/*\r\n * @Author: songjiaxue\r\n * @Date: 2019-11-07 10:26:35\r\n * @Last Modified by: songjiaxue\r\n * @Last Modified time: 2019-11-26 14:35:16\r\n */\r\n\r\nimport React from \"react\";\r\nimport { Tooltip } from \"antd\";\r\nimport \"./index.less\";\r\n\r\nclass Icon extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    const { type, className, noTip, title, onClick } = this.props;\r\n    return !noTip ? (\r\n      <Tooltip title={title} placement=\"rightTop\" overlayClassName=\"icon-tip\">\r\n        <div className=\"icon\" onClick={onClick}>\r\n          <svg className={`${className || \"\"} icon`} aria-hidden=\"true\">\r\n            <use xlinkHref={`#${type}`} />\r\n          </svg>\r\n        </div>\r\n      </Tooltip>\r\n    ) : (\r\n      <div className=\"icon\" onClick={onClick}>\r\n        <svg className={`${className || \"\"} icon`} aria-hidden=\"true\">\r\n          <use xlinkHref={`#${type}`} />\r\n        </svg>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Icon;\r\n"],"sourceRoot":""}